<p id="notice"><%= notice %></p>

<h1>Available Rooms Bookings</h1>


<div class="row">
  <div class="col-md-12">
    <% @rooms.each_slice(3) do |room| %>
    <% room.each do |r| %>
      <div class="rooms">
        <div class="room_pic">
          <%= image_tag r.room_pic.url %>
        </div>
        <div class="room_no">
          <%= r.floor %>
        </div>
        <div>
            <button type="button" class="btn btn-success book-room" data-id="<%= r.id %>" data-toggle="modal" data-target="#myModal"  data-name="<%= r.floor %>" data-category="<%= params[:category_id]%>">Book</button>
        </div>
      </div>
    <% end %>
    <% end %>
  </div>
</div>

<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">
  
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Hotel Booking</h4>
      </div>
      <div class="modal-body">
        <%= render partial: "form" %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
    
  </div>
</div>


<script type="text/javascript">
    $(document).ready(function() {
        $('.book-room').click(function(){
            var id = $(this).data("id");
            var name = $(this).data("name");
            var category = $(this).data("category");
            $("#booking_room_id").val(id);
            $("#room_id").val(name);
            $("#booking_category_id").val(category);
        });
    });
   
</script>


<style type="text/css">
.rooms {
    width: 30%;
    border: 1px solid black;
    display: inline-block;
    padding: 15px;
    margin: 10px;
}
.room_pic img {
    width: 100%;
    max-height: 300px;
    min-height: 299px;
}
.room_no {
    text-align: center;
    font-size: 16px;
    font-weight: bold;
    padding-top: 20px;
}
</style>